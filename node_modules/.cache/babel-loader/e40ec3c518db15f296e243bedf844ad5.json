{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucyg\\\\Desktop\\\\USC\\\\INR\\\\segmentation-interface\\\\src\\\\components\\\\PlayVideo\\\\PlayVideoCopy.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './PlayVideo.css';\nimport { AiFillPlayCircle } from \"react-icons/ai/\";\nimport '../SideBar/Timestamp/Timestamp.css';\nimport { Video } from '../Video/Video';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class PlayVideoCopy extends Component {\n  constructor(props) {\n    super(props);\n    this.getTime = currentTime => {\n      if (this.state.timeEnd > -1 && this.state.timeEnd <= currentTime) {\n        this.setState({\n          isPlaying: false\n        });\n        this.setState({\n          timeEnd: -1\n        });\n        var vid = document.getElementsByClassName(\"react-video-player\")[0];\n        vid.pause();\n      }\n    };\n    this.state = {\n      VideoSegment: [],\n      segmentHistories: [],\n      GetSegment: {},\n      videos: [],\n      recommended_view: [],\n      PatientTaskHandMapping1: [],\n      Camera: [],\n      Feedback: [],\n      PatientTaskHandMappingId: this.props.PTHID,\n      TaskId: this.props.TASKID,\n      PatientId: this.props.PATIENTID,\n      HandId: this.props.HANDID,\n      IsSubmitted: this.props.IsSubmitted,\n      segmentId: 1,\n      // start at IPT\n      SegmentJson: [],\n      view: \"\",\n      // definition: \"\",\n      currentTime: 0,\n      cameraId: 0,\n      prevSegmentId: 1,\n      instruction: \"Please Select the IN and OUT Points for the Segment IPT\",\n      timeStart: 0,\n      timeEnd: -1,\n      isPlaying: false\n    };\n\n    // this.render=this.render.bind(this);\n  }\n\n  async componentDidMount() {\n    if (this.state.HandId === 1) {\n      axios.get(`http://localhost:5000/CameraLeft`).then(res => {\n        const Camera = res.data;\n        this.setState({\n          Camera\n        });\n        this.setState({\n          cameraId: 1\n        });\n      });\n    } else {\n      axios.get(`http://localhost:5000/CameraRight`).then(res => {\n        const Camera = res.data;\n        this.setState({\n          Camera\n        });\n        this.setState({\n          cameraId: 4\n        });\n      });\n    }\n    axios.get(`http://localhost:5000/Segment`).then(res => {\n      const SegmentJson = res.data;\n      this.setState({\n        SegmentJson\n      });\n    });\n    axios.get(`http://localhost:5000/VideoSegment/` + this.state.PatientTaskHandMappingId).then(res => {\n      const GetSegment = res.data;\n      if (GetSegment.length) {\n        var VideoSegment = GetSegment;\n        let i = 0;\n        while (i < VideoSegment.length) {\n          VideoSegment[i]['IsChecked'] = 0;\n          VideoSegment[i]['inColor'] = \"white\";\n          VideoSegment[i]['outColor'] = \"white\";\n          VideoSegment[i]['color'] = \"white\";\n          i++;\n        }\n        VideoSegment[0][\"color\"] = \"#AFE1AF\";\n        this.setState({\n          VideoSegment\n        });\n      }\n    });\n    axios.get(`http://localhost:5000/TaskSegmentCameraMapping/` + this.state.PatientTaskHandMappingId).then(res => {\n      const data = res.data;\n      const recommended_view = data['taskSegmentHandCameraMapping'];\n      // const recommended_view = da ta['rec_view'].filter(view => view.taskId === this.state.TaskId);\n      console.log(\"recommended_view\", recommended_view);\n      const videos = data['files'];\n      this.setState({\n        videos\n      });\n      var VideoSegment = this.state.VideoSegment;\n      // if (this.state.IsSubmitted === 0){\n      if (VideoSegment.length === 0) {\n        let i = 0;\n        while (i < recommended_view.length) {\n          VideoSegment.push({\n            \"patientTaskHandMappingId\": this.state.PatientTaskHandMappingId,\n            \"segmentId\": recommended_view[i].segmentId,\n            \"start\": undefined,\n            \"end\": undefined,\n            \"IsChecked\": 0,\n            \"inColor\": \"white\",\n            \"outColor\": \"white\",\n            \"color\": \"white\"\n          });\n          i++;\n        }\n        VideoSegment[0][\"color\"] = \"#AFE1AF\";\n        this.setState({\n          VideoSegment\n        });\n      }\n      const cameraId = recommended_view.filter(view => view.segmentId === this.state.segmentId)[0].cameraId;\n      const view = this.state.Camera.filter(view => view.id === cameraId).ViewType;\n      // const definition = recommended_view.filter(view => view.segmentId === this.state.segmentId)[0].Definition;\n      // const definition = \"undefined\";\n      this.setState({\n        recommended_view\n      });\n      this.setState({\n        cameraId\n      });\n      this.setState({\n        view\n      });\n      // this.setState({ definition });\n    });\n\n    axios.get(`http://localhost:5000/Feedback`).then(res => {\n      const Feedback = res.data;\n      this.setState({\n        Feedback\n      });\n    });\n  }\n  render() {\n    var {\n      VideoSegment,\n      segmentHistories,\n      videos,\n      recommended_view,\n      TaskId,\n      PatientId,\n      HandId,\n      PatientTaskHandMappingId,\n      PatientTaskHandMapping,\n      // definition,\n      segmentId,\n      Camera,\n      Feedback,\n      cameraId,\n      SegmentJson,\n      prevSegmentId,\n      IsSubmitted,\n      currentTime,\n      instruction,\n      timeStart,\n      timeEnd,\n      isPlaying\n    } = this.state;\n    function changeColor(id1, btn1, id2, btn2) {\n      var segment1 = VideoSegment.filter(segment => segment.segmentId === id1)[0];\n      var segment2 = VideoSegment.filter(segment => segment.segmentId === id2)[0];\n      var val1 = segment1.start;\n      if (btn1 === \"OUT\") val1 = segment1.end;\n      var val2 = segment2.start;\n      if (btn2 === \"OUT\") val2 = segment2.end;\n      if (val2) {\n        if (Math.abs(val1 - val2) > 2) {\n          if (btn1 === \"OUT\") VideoSegment.filter(segment => segment.segmentId === id1)[0]['outColor'] = \"yellow\";else VideoSegment.filter(segment => segment.segmentId === id1)[0]['inColor'] = \"yellow\";\n          if (btn2 === \"OUT\") VideoSegment.filter(segment => segment.segmentId === id2)[0]['outColor'] = \"yellow\";else VideoSegment.filter(segment => segment.segmentId === id2)[0]['inColor'] = \"yellow\";\n        } else {\n          if (btn1 === \"OUT\") VideoSegment.filter(segment => segment.segmentId === id1)[0]['outColor'] = \"white\";else VideoSegment.filter(segment => segment.segmentId === id1)[0]['inColor'] = \"white\";\n          if (btn2 === \"OUT\") VideoSegment.filter(segment => segment.segmentId === id2)[0]['outColor'] = \"white\";else VideoSegment.filter(segment => segment.segmentId === id2)[0]['inColor'] = \"white\";\n        }\n      }\n    }\n    function IN() {\n      var time = currentTime;\n      VideoSegment.filter(view => view.segmentId === segmentId)[0].start = Math.floor(time * 30);\n      if (segmentId === 3) {\n        changeColor(segmentId, \"IN\", segmentId - 2, \"OUT\");\n      }\n      if (segmentId > 3) {\n        if (VideoSegment.length > 4) {\n          if (segmentId === 6) changeColor(segmentId, \"IN\", 3, \"OUT\");else if (segmentId === 5) changeColor(segmentId, \"IN\", 6, \"OUT\");else if (segmentId === 4) changeColor(segmentId, \"IN\", 5, \"OUT\");\n        } else changeColor(segmentId, \"IN\", segmentId - 1, \"OUT\");\n      }\n    }\n    function OUT() {\n      var time = currentTime;\n      console.log(segmentId, VideoSegment.filter(view => view.segmentId === segmentId));\n      VideoSegment.filter(view => view.segmentId === segmentId)[0][\"end\"] = Math.floor(time * 30);\n      if (segmentId === 1) {\n        changeColor(segmentId, \"OUT\", segmentId + 1, \"OUT\");\n        changeColor(segmentId, \"OUT\", segmentId + 2, \"IN\");\n      } else if (segmentId === 2) {\n        changeColor(segmentId, \"OUT\", segmentId - 1, \"OUT\");\n      } else if (segmentId > 1) {\n        if (VideoSegment.length > 4) {\n          if (segmentId === 3) changeColor(segmentId, \"OUT\", 6, \"IN\");else if (segmentId === 6) changeColor(segmentId, \"OUT\", 5, \"IN\");else if (segmentId === 5) changeColor(segmentId, \"OUT\", 4, \"IN\");\n        } else {\n          if (segmentId < VideoSegment.length - 1) changeColor(segmentId, \"OUT\", segmentId + 1, \"IN\");\n        }\n      }\n    }\n    function onSelect(id) {\n      if (id > 1) {\n        var check = undefined;\n        if (id === 6) check = 3;else if (id === 5) check = 6;else if (id === 4) {\n          if (VideoSegment.length > 4) check = 5;else check = id - 1;\n        } else check = id - 1;\n        var segment = VideoSegment.filter(segment => segment.segmentId === check)[0];\n        if (segment.start === undefined || segment.end === undefined) {\n          alert(\"Make sure you have filled out the previous segment entries before you select a new one\");\n          segmentId = id - 1;\n          return;\n        }\n      }\n      segmentId = id;\n      // background color  \n      if (prevSegmentId !== segmentId) {\n        if (VideoSegment.filter(segment => segment.segmentId === prevSegmentId)[0]['IsChecked'] === 1) {\n          VideoSegment.filter(segment => segment.segmentId === prevSegmentId)[0]['color'] = \"rgb(211, 211, 211)\";\n        } else {\n          VideoSegment.filter(segment => segment.segmentId === prevSegmentId)[0]['color'] = \"rgba(0, 0, 0, 0)\";\n        }\n      }\n      VideoSegment.filter(segment => segment.segmentId === segmentId)[0]['color'] = \"#AFE1AF\";\n      prevSegmentId = segmentId;\n      // in and out buttons\n      // document.getElementById(\"out\").disabled=false;\n      // document.getElementById(\"in\").disabled=false;\n      var Segment = SegmentJson.filter(view => view.id === parseInt(segmentId))[0].SegmentLabel;\n      instruction = \"Please Select the IN and OUT Points for the Segment \" + Segment;\n      // definition=recommended_view.filter(view => view.segmentId === segmentId)[0].Definition;\n      cameraId = recommended_view.filter(view => view.segmentId === parseInt(segmentId))[0].cameraId;\n    }\n    function selectTimestamp(position, id) {\n      var time = VideoSegment.filter(segment => segment.segmentId === id)[0][position];\n      document.getElementsByClassName(\"react-video-player\")[0].currentTime = time / 30;\n    }\n    function onPlayback(segmentId) {\n      var start = VideoSegment.filter(segment => segment.segmentId === segmentId)[0]['start'];\n      var end = VideoSegment.filter(segment => segment.segmentId === segmentId)[0]['end'];\n      console.log(start / 30, end / 30);\n      timeStart = start / 30;\n      timeEnd = (end - 9) / 30;\n      isPlaying = true;\n      var vid = document.getElementsByClassName(\"react-video-player\")[0];\n      vid.currentTime = start / 30;\n      vid.play();\n    }\n    function onCheck(id, start, end) {\n      var segment = VideoSegment.filter(segment => segment.segmentId === id)[0];\n      var checkBox = document.getElementById(\"CHECK\" + id);\n      if (segment.start === undefined || segment.end === undefined) {\n        checkBox.checked = false;\n        alert(\"Make sure you have filled out the segment entries before you check them\");\n        return;\n      }\n      if (segment.IsChecked === 0) {\n        if (segment.color === \"white\") {\n          VideoSegment.filter(segment => segment.segmentId === id)[0]['color'] = \"rgb(211, 211, 211)\";\n        }\n        VideoSegment.filter(segment => segment.segmentId === id)[0].IsChecked = 1;\n        var logsId = segmentHistories.length + 1;\n        segmentHistories.push({\n          \"id\": logsId,\n          \"patientId\": PatientId,\n          \"taskId\": TaskId,\n          \"cameraId\": cameraId,\n          //update onSelect\n          \"handId\": HandId,\n          \"segmentId\": id,\n          \"start\": start,\n          \"end\": end,\n          \"isSubmitted\": false\n        });\n      } else {\n        if (segment.color === \"rgb(211, 211, 211)\") {\n          VideoSegment.filter(segment => segment.segmentId === id)[0]['color'] = \"white\";\n        }\n        VideoSegment.filter(segment => segment.segmentId === id)[0].IsChecked = 0;\n      }\n    }\n    function switchView(cameraId) {\n      // var logsId = GetSegment.length+1;\n      segmentHistories.push({\n        // \"id\": logsId,\n        \"patientId\": PatientId,\n        \"taskId\": TaskId,\n        \"cameraId\": cameraId,\n        //update onSelect\n        \"handId\": HandId,\n        \"segmentId\": segmentId,\n        \"start\": VideoSegment.filter(view => view.segmentId === segmentId)[0].start,\n        \"end\": VideoSegment.filter(view => view.segmentId === segmentId)[0].end,\n        \"isSubmitted\": 0\n      });\n      // var vid = document.getElementsByClassName(\"react-video-player\")[0];\n      // vid.currentTime=0;\n    }\n\n    function submitFeedback(e) {\n      e.preventDefault();\n      var feedback = e.target[0].value;\n      if (feedback === '') {\n        alert(\"The feedback box shouldn't be empty.\");\n        return;\n      }\n      var feedbackId = Feedback.length + 1;\n      axios.post('http://localhost:5000/Feedback/' + String(feedbackId), {\n        \"id\": feedbackId,\n        \"patientId\": PatientId,\n        \"taskId\": TaskId,\n        \"cameraId\": cameraId,\n        //update onSelect\n        \"handId\": HandId,\n        \"segmentId\": segmentId,\n        \"feedback\": e.target[0].value\n      }).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n      alert(\"You have successfully submitted your feedback!\");\n    }\n    function submit(e) {\n      e.preventDefault();\n      let j = 0;\n      var submittedSegments = [];\n      console.log(VideoSegment);\n      while (j < VideoSegment.length) {\n        if (VideoSegment[j]['IsChecked'] === 0) {\n          alert(\"Check all entries before you submit!\");\n          return;\n        }\n        submittedSegments.push({\n          \"id\": VideoSegment[j]['id'] ? VideoSegment[j]['id'] : 0,\n          \"patientTaskHandMappingId\": VideoSegment[j]['patientTaskHandMappingId'],\n          \"segmentId\": VideoSegment[j]['segmentId'],\n          \"start\": VideoSegment[j]['start'],\n          \"end\": VideoSegment[j]['end']\n        });\n        j++;\n      }\n      let model = {\n        'submittedSegments': submittedSegments,\n        'segmentHistories': segmentHistories\n      };\n      console.log('post model', model);\n      axios.post('http://localhost:5000/VideoSegment/', model);\n      alert(\"You have successfully submitted the timestamp!\");\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"PlayVideo\",\n        children: [videos.filter(video => video.cameraId === this.state.cameraId).map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"video-play\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Patient \", PatientId, \", Task \", TaskId, \", \", Camera.filter(view => view.id === video.cameraId)[0].ViewType, \" View\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Video, {\n            url: \"./Videos/\" + video.fileName,\n            timeStart: timeStart,\n            sendTime: this.getTime,\n            isPlaying: isPlaying\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 19\n          }, this)]\n        }, video.fileName, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 17\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"in\",\n            onClick: () => {\n              IN();\n              this.setState({\n                VideoSegment\n              });\n            },\n            children: \"IN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"instruction\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              id: \"instruction\",\n              children: instruction\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"out\",\n            onClick: () => {\n              OUT();\n              this.setState({\n                VideoSegment\n              });\n            },\n            children: \"OUT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)]\n      }, 'PlayVideo', true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SideBar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SwitchView\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"viewHeader\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Switch View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SideVideos\",\n            children: videos.filter(video => video.cameraId !== this.state.cameraId).map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"video-preview\",\n              onClick: () => {\n                switchView(video.cameraId);\n                this.setState({\n                  cameraId: video.cameraId\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                src: \"./Videos/\" + video.fileName,\n                title: \"./Videos/\" + video.fileName,\n                className: \"sidebarVideo\",\n                id: video.View\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Patient \", PatientId, \", Task \", TaskId, \", \", Camera.filter(view => view.id === video.cameraId)[0].ViewType, \" View\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 21\n              }, this)]\n            }, video.fileName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timestamp\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"TimeStamp\",\n            onSubmit: e => {\n              submit(e);\n              this.setState({\n                segmentHistories\n              });\n              this.setState({\n                PatientTaskHandMapping\n              });\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"TimestampHeader\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Timestamp Record\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"TimestampTable\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Segment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"IN\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"OUT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 444,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [VideoSegment.map(segment => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    id: \"ROW\" + segment.segmentId,\n                    style: {\n                      \"backgroundColor\": segment.color\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      id: segment.segmentId,\n                      onClick: () => {\n                        onSelect(segment.segmentId);\n                        this.setState({\n                          cameraId\n                        });\n                        // this.setState({definition});\n                        this.setState({\n                          instruction\n                        });\n                        this.setState({\n                          prevSegmentId\n                        });\n                        this.setState({\n                          segmentId\n                        });\n                      },\n                      children: SegmentJson.filter(view => view.id === segment.segmentId)[0].SegmentLabel\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: segment.start,\n                        type: \"number\",\n                        id: \"IN\" + String(segment.segmentId),\n                        onClick: () => {\n                          selectTimestamp(\"start\", segment.segmentId);\n                        },\n                        readOnly: \"readOnly\",\n                        style: {\n                          \"backgroundColor\": segment.inColor\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 462,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        value: segment.end,\n                        type: \"number\",\n                        id: \"OUT\" + String(segment.segmentId),\n                        onClick: () => {\n                          selectTimestamp(\"end\", segment.segmentId);\n                        },\n                        readOnly: \"readOnly\",\n                        style: {\n                          \"backgroundColor\": segment.outColor\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 465,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 465,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"check\",\n                        type: \"checkbox\",\n                        onClick: () => {\n                          onCheck(segment.segmentId, segment.start, segment.end);\n                          this.setState({\n                            segmentHistories\n                          });\n                          this.setState({\n                            VideoSegment\n                          });\n                        },\n                        id: \"CHECK\" + String(segment.segmentId)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 468,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        onClick: () => {\n                          onPlayback(segment.segmentId);\n                          this.setState({\n                            timeEnd\n                          });\n                          this.setState({\n                            isPlaying\n                          });\n                          this.setState({\n                            timeStart\n                          });\n                        },\n                        children: /*#__PURE__*/_jsxDEV(AiFillPlayCircle, {\n                          size: 30\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 479,\n                          columnNumber: 32\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 473,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 27\n                    }, this)]\n                  }, segment.segmentId, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 451,\n                    columnNumber: 25\n                  }, this)), /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"5\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"submit\",\n                        children: \"Submit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 483,\n                        columnNumber: 39\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 483,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"feedback\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"Feedback\",\n            onSubmit: e => {\n              submitFeedback(e);\n              this.setState({\n                Feedback\n              });\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feedbackHeader\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Feedback\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"feedbackTable\",\n              children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      placeholder: \"Write something\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"5\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"submitFeedback\",\n                      children: \"Submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 39\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this)]\n      }, 'SideBar', true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this)]\n    }, 'content', true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 9\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","axios","AiFillPlayCircle","Video","PlayVideoCopy","constructor","props","getTime","currentTime","state","timeEnd","setState","isPlaying","vid","document","getElementsByClassName","pause","VideoSegment","segmentHistories","GetSegment","videos","recommended_view","PatientTaskHandMapping1","Camera","Feedback","PatientTaskHandMappingId","PTHID","TaskId","TASKID","PatientId","PATIENTID","HandId","HANDID","IsSubmitted","segmentId","SegmentJson","view","cameraId","prevSegmentId","instruction","timeStart","componentDidMount","get","then","res","data","length","i","console","log","push","undefined","filter","id","ViewType","render","PatientTaskHandMapping","changeColor","id1","btn1","id2","btn2","segment1","segment","segment2","val1","start","end","val2","Math","abs","IN","time","floor","OUT","onSelect","check","alert","Segment","parseInt","SegmentLabel","selectTimestamp","position","onPlayback","play","onCheck","checkBox","getElementById","checked","IsChecked","color","logsId","switchView","submitFeedback","e","preventDefault","feedback","target","value","feedbackId","post","String","response","catch","error","submit","j","submittedSegments","model","video","map","fileName","View","inColor","outColor"],"sources":["C:/Users/lucyg/Desktop/USC/INR/segmentation-interface/src/components/PlayVideo/PlayVideoCopy.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport './PlayVideo.css'\r\nimport { AiFillPlayCircle } from \"react-icons/ai/\";\r\nimport '../SideBar/Timestamp/Timestamp.css';\r\nimport { Video } from '../Video/Video';\r\n\r\n\r\nexport class PlayVideoCopy extends Component {  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      VideoSegment: [],\r\n      segmentHistories: [],\r\n      GetSegment: {},\r\n      videos: [],\r\n      recommended_view: [],\r\n      PatientTaskHandMapping1: [],\r\n      Camera: [],\r\n      Feedback: [],\r\n      PatientTaskHandMappingId: this.props.PTHID,\r\n      TaskId: this.props.TASKID,\r\n      PatientId: this.props.PATIENTID,\r\n      HandId: this.props.HANDID,\r\n      IsSubmitted: this.props.IsSubmitted,\r\n      segmentId: 1, // start at IPT\r\n      SegmentJson: [],\r\n      view: \"\",\r\n      // definition: \"\",\r\n      currentTime: 0,\r\n      cameraId: 0,\r\n      prevSegmentId: 1,\r\n      instruction: \"Please Select the IN and OUT Points for the Segment IPT\",\r\n      timeStart: 0,\r\n      timeEnd: -1,\r\n      isPlaying: false\r\n    }\r\n    \r\n    // this.render=this.render.bind(this);\r\n    \r\n  }\r\n  \r\n  async componentDidMount() {\r\n    if (this.state.HandId === 1) {\r\n      axios.get(`http://localhost:5000/CameraLeft`)\r\n      .then(res => {\r\n        const Camera =res.data;\r\n        this.setState({ Camera });\r\n        this.setState({ cameraId: 1 });\r\n      })\r\n    }\r\n    else {\r\n      axios.get(`http://localhost:5000/CameraRight`)\r\n      .then(res => {\r\n        const Camera =res.data;\r\n        this.setState({ Camera });\r\n        this.setState({ cameraId: 4 });\r\n      })\r\n    }\r\n    \r\n    axios.get(`http://localhost:5000/Segment`)\r\n    .then(res => {\r\n      const SegmentJson =res.data;\r\n      this.setState({ SegmentJson });\r\n    })\r\n\r\n    axios.get(`http://localhost:5000/VideoSegment/`+this.state.PatientTaskHandMappingId)\r\n    .then(res => {\r\n      const GetSegment =res.data;\r\n      if (GetSegment.length){\r\n        var VideoSegment = GetSegment;\r\n        let i = 0;\r\n        while ( i < VideoSegment.length) {\r\n          VideoSegment[i]['IsChecked']=0;\r\n          VideoSegment[i]['inColor']=\"white\";\r\n          VideoSegment[i]['outColor']=\"white\";\r\n          VideoSegment[i]['color']=\"white\";\r\n          i++;\r\n        }\r\n        VideoSegment[0][\"color\"]=\"#AFE1AF\";\r\n        this.setState({ VideoSegment });\r\n      }\r\n    })\r\n    axios.get(`http://localhost:5000/TaskSegmentCameraMapping/`+this.state.PatientTaskHandMappingId)\r\n    .then(res => {\r\n      const data =res.data;\r\n      const recommended_view = data['taskSegmentHandCameraMapping'];\r\n      // const recommended_view = da ta['rec_view'].filter(view => view.taskId === this.state.TaskId);\r\n      console.log(\"recommended_view\", recommended_view);\r\n      const videos = data['files'];\r\n      this.setState({ videos });\r\n      var VideoSegment = this.state.VideoSegment;\r\n      // if (this.state.IsSubmitted === 0){\r\n      if (VideoSegment.length === 0){\r\n        let i = 0;\r\n        while (i < recommended_view.length) {\r\n          VideoSegment.push({\r\n            \"patientTaskHandMappingId\": this.state.PatientTaskHandMappingId,\r\n            \"segmentId\": recommended_view[i].segmentId,\r\n            \"start\":undefined,\r\n            \"end\":undefined,\r\n            \"IsChecked\": 0,\r\n            \"inColor\": \"white\",\r\n            \"outColor\": \"white\",\r\n            \"color\": \"white\"\r\n          });\r\n          i++;\r\n        }\r\n        VideoSegment[0][\"color\"]=\"#AFE1AF\";\r\n        this.setState({ VideoSegment });\r\n      }      \r\n      const cameraId = recommended_view.filter(view => view.segmentId === this.state.segmentId)[0].cameraId;\r\n      const view = this.state.Camera.filter(view => view.id === cameraId).ViewType;\r\n      // const definition = recommended_view.filter(view => view.segmentId === this.state.segmentId)[0].Definition;\r\n      // const definition = \"undefined\";\r\n      this.setState({ recommended_view });\r\n      this.setState({ cameraId });\r\n      this.setState({ view });\r\n      // this.setState({ definition });\r\n    })\r\n    axios.get(`http://localhost:5000/Feedback`)\r\n      .then(res => { \r\n        const Feedback =res.data;\r\n        this.setState({ Feedback });\r\n    })\r\n  }\r\n  getTime = (currentTime) => {\r\n    if (this.state.timeEnd > -1 && this.state.timeEnd <= currentTime) {\r\n      this.setState({isPlaying: false});\r\n      this.setState({timeEnd: -1});\r\n      var vid = document.getElementsByClassName(\"react-video-player\")[0];\r\n      vid.pause();\r\n    }\r\n\r\n  }\r\n  render() { \r\n    \r\n    var { \r\n      VideoSegment,\r\n      segmentHistories,\r\n      videos,\r\n      recommended_view,\r\n      TaskId,\r\n      PatientId,\r\n      HandId,\r\n      PatientTaskHandMappingId,\r\n      PatientTaskHandMapping,\r\n      // definition,\r\n      segmentId,\r\n      Camera, \r\n      Feedback,\r\n      cameraId, \r\n      SegmentJson, \r\n      prevSegmentId, \r\n      IsSubmitted,\r\n      currentTime,\r\n      instruction,\r\n      timeStart,\r\n      timeEnd,\r\n      isPlaying\r\n    } = this.state;\r\n   \r\n    function changeColor(id1, btn1, id2, btn2) {\r\n      var segment1 = VideoSegment.filter(segment=> segment.segmentId === id1)[0];\r\n      var segment2 = VideoSegment.filter(segment=> segment.segmentId === id2)[0];\r\n      var val1 = segment1.start;\r\n      if (btn1 === \"OUT\") val1 = segment1.end;\r\n      var val2 = segment2.start;\r\n      if (btn2 === \"OUT\") val2 = segment2.end;\r\n      if (val2){\r\n        if (Math.abs(val1 - val2) > 2) {\r\n          if (btn1 === \"OUT\") VideoSegment.filter(segment=> segment.segmentId === id1)[0]['outColor'] = \"yellow\";\r\n          else VideoSegment.filter(segment=> segment.segmentId === id1)[0]['inColor'] = \"yellow\";\r\n          if (btn2 === \"OUT\") VideoSegment.filter(segment=> segment.segmentId === id2)[0]['outColor'] = \"yellow\";\r\n          else VideoSegment.filter(segment=> segment.segmentId === id2)[0]['inColor'] = \"yellow\";\r\n        }\r\n        else {\r\n          if (btn1 === \"OUT\") VideoSegment.filter(segment=> segment.segmentId === id1)[0]['outColor'] = \"white\";\r\n          else VideoSegment.filter(segment=> segment.segmentId === id1)[0]['inColor'] = \"white\";\r\n          if (btn2 === \"OUT\") VideoSegment.filter(segment=> segment.segmentId === id2)[0]['outColor'] = \"white\";\r\n          else VideoSegment.filter(segment=> segment.segmentId === id2)[0]['inColor'] = \"white\";\r\n        }\r\n      }\r\n    }\r\n    function IN() {\r\n      var time = currentTime;\r\n      VideoSegment.filter(view => view.segmentId === segmentId)[0].start=Math.floor(time*30);\r\n      if (segmentId === 3) {\r\n        changeColor(segmentId, \"IN\", segmentId-2, \"OUT\");\r\n      }\r\n      if (segmentId > 3) {\r\n        if (VideoSegment.length > 4) {\r\n          if (segmentId === 6) changeColor(segmentId, \"IN\", 3, \"OUT\");\r\n          else if (segmentId === 5) changeColor(segmentId, \"IN\", 6, \"OUT\");\r\n          else if (segmentId === 4) changeColor(segmentId, \"IN\", 5, \"OUT\");\r\n        }\r\n        else changeColor(segmentId, \"IN\", segmentId-1, \"OUT\");\r\n      }\r\n    }\r\n    function OUT() { \r\n      var time = currentTime;\r\n      console.log(segmentId, VideoSegment.filter(view => view.segmentId === segmentId));\r\n      VideoSegment.filter(view => view.segmentId === segmentId)[0][\"end\"]=Math.floor(time*30);\r\n      if (segmentId === 1) {\r\n        changeColor(segmentId, \"OUT\", segmentId+1, \"OUT\");\r\n        changeColor(segmentId, \"OUT\", segmentId+2, \"IN\");\r\n      }\r\n      else if (segmentId === 2) {\r\n        changeColor(segmentId, \"OUT\", segmentId-1, \"OUT\");\r\n      }\r\n      else if (segmentId> 1) {\r\n        if (VideoSegment.length > 4) {\r\n          if (segmentId === 3) changeColor(segmentId, \"OUT\", 6, \"IN\");\r\n          else if (segmentId === 6) changeColor(segmentId, \"OUT\", 5, \"IN\");\r\n          else if (segmentId === 5) changeColor(segmentId, \"OUT\", 4, \"IN\");\r\n        }\r\n        else {\r\n          if (segmentId < VideoSegment.length-1) changeColor(segmentId, \"OUT\", segmentId+1, \"IN\");\r\n        }\r\n      }\r\n    }\r\n    function onSelect(id) {\r\n      if (id > 1){\r\n        var check = undefined;\r\n        if (id === 6) check=3;\r\n        else if (id === 5) check=6;\r\n        else if (id === 4) {\r\n          if (VideoSegment.length > 4) check=5;\r\n          else check=id-1;\r\n        }\r\n        else check = id-1;\r\n        var segment = VideoSegment.filter(segment => segment.segmentId === check)[0];\r\n        if (segment.start === undefined || segment.end === undefined) {\r\n          alert(\"Make sure you have filled out the previous segment entries before you select a new one\");\r\n          segmentId = id-1;\r\n          return;\r\n        }\r\n      } \r\n      segmentId = id;\r\n      // background color  \r\n      if (prevSegmentId !== segmentId) {\r\n        if (VideoSegment.filter(segment => segment.segmentId === prevSegmentId)[0]['IsChecked']===1) {\r\n          VideoSegment.filter(segment => segment.segmentId === prevSegmentId)[0]['color']=\"rgb(211, 211, 211)\";\r\n        }\r\n        else {\r\n          VideoSegment.filter(segment => segment.segmentId === prevSegmentId)[0]['color']=\"rgba(0, 0, 0, 0)\";\r\n        }         \r\n      }\r\n      VideoSegment.filter(segment => segment.segmentId === segmentId)[0]['color']=\"#AFE1AF\";\r\n      prevSegmentId = segmentId;\r\n      // in and out buttons\r\n      // document.getElementById(\"out\").disabled=false;\r\n      // document.getElementById(\"in\").disabled=false;\r\n      var Segment = SegmentJson.filter(view => view.id === parseInt(segmentId))[0].SegmentLabel;\r\n      instruction=\"Please Select the IN and OUT Points for the Segment \"+Segment;\r\n      // definition=recommended_view.filter(view => view.segmentId === segmentId)[0].Definition;\r\n      cameraId = recommended_view.filter(view => view.segmentId === parseInt(segmentId))[0].cameraId;\r\n    }    \r\n    function selectTimestamp(position, id) {\r\n      var time = VideoSegment.filter(segment => segment.segmentId === id)[0][position];\r\n      document.getElementsByClassName(\"react-video-player\")[0].currentTime=time/30;\r\n    }\r\n    function onPlayback(segmentId) {\r\n      var start = VideoSegment.filter(segment => segment.segmentId === segmentId)[0]['start'];\r\n      var end = VideoSegment.filter(segment => segment.segmentId === segmentId)[0]['end'];\r\n      console.log(start/30, end/30);\r\n      timeStart=start/30;\r\n      timeEnd = (end-9)/30;\r\n      isPlaying = true;\r\n      var vid = document.getElementsByClassName(\"react-video-player\")[0];\r\n      vid.currentTime = start/30;\r\n      vid.play();\r\n    }\r\n    function onCheck(id, start, end) {\r\n      var segment = VideoSegment.filter(segment => segment.segmentId === id)[0];\r\n      var checkBox = document.getElementById(\"CHECK\"+id);\r\n      if (segment.start === undefined || segment.end === undefined) {\r\n        checkBox.checked=false;\r\n        alert(\"Make sure you have filled out the segment entries before you check them\");\r\n        return;\r\n      }\r\n      if (segment.IsChecked === 0){\r\n        if (segment.color === \"white\") {\r\n          VideoSegment.filter(segment => segment.segmentId === id)[0]['color']=\"rgb(211, 211, 211)\";\r\n        }\r\n        VideoSegment.filter(segment => segment.segmentId === id)[0].IsChecked=1;  \r\n        var logsId = segmentHistories.length+1;\r\n        segmentHistories.push({\r\n          \"id\": logsId,\r\n          \"patientId\": PatientId,\r\n          \"taskId\": TaskId,\r\n          \"cameraId\": cameraId, //update onSelect\r\n          \"handId\": HandId,\r\n          \"segmentId\": id,\r\n          \"start\": start,\r\n          \"end\": end,\r\n          \"isSubmitted\": false\r\n        })   \r\n      } else {\r\n        if (segment.color === \"rgb(211, 211, 211)\") {\r\n          VideoSegment.filter(segment => segment.segmentId === id)[0]['color']=\"white\";\r\n        } \r\n        VideoSegment.filter(segment => segment.segmentId === id)[0].IsChecked=0;         \r\n      } \r\n    }\r\n    function switchView(cameraId){\r\n      // var logsId = GetSegment.length+1;\r\n      segmentHistories.push({\r\n        // \"id\": logsId,\r\n        \"patientId\": PatientId,\r\n        \"taskId\": TaskId,\r\n        \"cameraId\": cameraId, //update onSelect\r\n        \"handId\": HandId,\r\n        \"segmentId\": segmentId,\r\n        \"start\": VideoSegment.filter(view => view.segmentId === segmentId)[0].start,\r\n        \"end\": VideoSegment.filter(view => view.segmentId === segmentId)[0].end,\r\n        \"isSubmitted\": 0\r\n      })\r\n      // var vid = document.getElementsByClassName(\"react-video-player\")[0];\r\n      // vid.currentTime=0;\r\n    }\r\n    function submitFeedback(e){\r\n      e.preventDefault();\r\n      var feedback = e.target[0].value;\r\n      if (feedback === '') {\r\n        alert(\"The feedback box shouldn't be empty.\");\r\n        return;\r\n      }\r\n      var feedbackId = Feedback.length+1;\r\n      axios.post('http://localhost:5000/Feedback/'+String(feedbackId), {\r\n        \"id\": feedbackId,\r\n        \"patientId\": PatientId,\r\n        \"taskId\": TaskId,\r\n        \"cameraId\": cameraId, //update onSelect\r\n        \"handId\": HandId,\r\n        \"segmentId\": segmentId,\r\n        \"feedback\": e.target[0].value\r\n      })\r\n      .then(response => {\r\n          console.log(response)\r\n      })\r\n      .catch(error => {\r\n          console.log(error)\r\n      })\r\n      alert(\"You have successfully submitted your feedback!\");\r\n    }\r\n    function submit(e) {\r\n      e.preventDefault();\r\n      let j = 0;\r\n      var submittedSegments = [];\r\n      console.log(VideoSegment);\r\n      while (j < VideoSegment.length) {\r\n        if (VideoSegment[j]['IsChecked'] === 0){\r\n          alert(\"Check all entries before you submit!\");\r\n          return;\r\n        }\r\n        submittedSegments.push({\r\n          \"id\": VideoSegment[j]['id'] ? VideoSegment[j]['id'] : 0,\r\n          \"patientTaskHandMappingId\": VideoSegment[j]['patientTaskHandMappingId'],\r\n          \"segmentId\": VideoSegment[j]['segmentId'],\r\n          \"start\": VideoSegment[j]['start'],\r\n          \"end\": VideoSegment[j]['end']\r\n        })\r\n        j++;\r\n      }\r\n      \r\n      let model = { 'submittedSegments' : submittedSegments, 'segmentHistories': segmentHistories}\r\n      console.log('post model', model);\r\n      axios.post('http://localhost:5000/VideoSegment/', model);\r\n      alert(\"You have successfully submitted the timestamp!\");\r\n    }\r\n    \r\n    return (\r\n      \r\n        <div className='content' key='content'>\r\n          <div className='PlayVideo' key='PlayVideo'>\r\n            {\r\n              videos.filter(video => video.cameraId === this.state.cameraId)\r\n              .map(video=>\r\n                <div className=\"video-play\" key={video.fileName}>\r\n                  <h2>Patient {PatientId}, Task {TaskId}, {Camera.filter(view => view.id === video.cameraId)[0].ViewType} View</h2>\r\n                  {/* <h2>Patient {PatientId}, Task {TaskId}</h2> */}\r\n                  {/* <video id=\"video\" src={\"./Videos/\"+video.fileName} onTimeUpdate={onTimeUpdate} controls='controls'></video> */}\r\n                  <Video url={\"./Videos/\"+video.fileName} timeStart={timeStart} sendTime={this.getTime} isPlaying={isPlaying}></Video>\r\n                </div>\r\n              )\r\n            }\r\n            <div className='buttons'>\r\n              <button id=\"in\" onClick={()=>{\r\n                IN();\r\n                this.setState({VideoSegment});\r\n              }}>IN</button>\r\n              <div className=\"instruction\">\r\n                <h5 id=\"instruction\">\r\n                {instruction}\r\n                </h5>              \r\n              </div>          \r\n              <button id=\"out\" onClick={()=>{\r\n                OUT();\r\n                this.setState({VideoSegment});\r\n              }}>OUT</button>\r\n            </div> \r\n            {/* <p>{definition}</p>          */}\r\n          </div>\r\n          <div className='SideBar' key='SideBar'>\r\n            <div className='SwitchView'>\r\n              <div className='viewHeader'> \r\n                <h4>Switch View</h4> \r\n             \r\n              </div>\r\n              <div className='SideVideos'>\r\n              {\r\n                videos.filter(video => video.cameraId !== this.state.cameraId)\r\n                .map(video=>\r\n                  <div className=\"video-preview\"  key={video.fileName} onClick={() => {\r\n                    switchView(video.cameraId);\r\n                    this.setState({cameraId: video.cameraId});\r\n                  }}>\r\n                    <video src={\"./Videos/\"+video.fileName} title={\"./Videos/\"+video.fileName} className=\"sidebarVideo\"  id={video.View}></video>\r\n                    <div>\r\n                      <p>Patient {PatientId}, Task {TaskId}, {Camera.filter(view => view.id === video.cameraId)[0].ViewType} View</p>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              } \r\n              </div>                        \r\n            </div>\r\n            <div className='timestamp'>\r\n            <form className='TimeStamp' onSubmit={((e)=>{\r\n              submit(e);\r\n              this.setState({segmentHistories});\r\n              this.setState({PatientTaskHandMapping});\r\n            })}>\r\n              <div className='TimestampHeader'>\r\n                <h4>Timestamp Record</h4>\r\n              \r\n              </div>\r\n              <div className='TimestampTable'>\r\n                <table>\r\n                  <thead>\r\n                      <tr>\r\n                          <th>Segment</th>\r\n                          <th>IN</th>\r\n                          <th>OUT</th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {\r\n                    VideoSegment\r\n                      .map(segment =>\r\n                        <tr  id={\"ROW\"+segment.segmentId}  key={segment.segmentId} style={{\"backgroundColor\": segment.color}}>\r\n                          <td  id={segment.segmentId} \r\n                          onClick={() => {\r\n                            onSelect(segment.segmentId);\r\n                            this.setState({cameraId});\r\n                            // this.setState({definition});\r\n                            this.setState({instruction});\r\n                            this.setState({prevSegmentId});\r\n                            this.setState({segmentId});\r\n                          }\r\n                          }>{SegmentJson.filter(view => view.id === segment.segmentId)[0].SegmentLabel}</td>\r\n                          <td><input value={segment.start} type=\"number\" id={\"IN\"+String(segment.segmentId)} onClick={(() => {\r\n                            selectTimestamp(\"start\", segment.segmentId);\r\n                          })} readOnly=\"readOnly\" style={{\"backgroundColor\": segment.inColor}}></input></td>\r\n                          <td><input value={segment.end} type=\"number\" id={\"OUT\"+String(segment.segmentId)} onClick={(() => {\r\n                            selectTimestamp(\"end\", segment.segmentId)\r\n                          })} readOnly=\"readOnly\" style={{\"backgroundColor\": segment.outColor}}></input></td>\r\n                          <td><input className=\"check\" type=\"checkbox\" onClick={(() => {\r\n                            onCheck(segment.segmentId, segment.start, segment.end);\r\n                            this.setState({segmentHistories});\r\n                            this.setState({VideoSegment});\r\n                          })} id={\"CHECK\"+String(segment.segmentId)}/></td>\r\n                          <td><div onClick={\r\n                            () => {\r\n                              onPlayback(segment.segmentId);\r\n                              this.setState({timeEnd});\r\n                              this.setState({isPlaying})\r\n                              this.setState({timeStart});\r\n                            }}><AiFillPlayCircle size={30}/></div></td>\r\n                        </tr>\r\n                      )\r\n                  }\r\n                  <tr><td colSpan=\"5\"><button type=\"submit\" className='submit'>Submit</button></td></tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </form>\r\n            </div>\r\n            <div className='feedback'>\r\n            <form className='Feedback' onSubmit={(e)=>{\r\n              submitFeedback(e);\r\n              this.setState({Feedback});\r\n            }}>\r\n              <div className='feedbackHeader'>\r\n              <h4>Feedback</h4>\r\n                </div>\r\n              <table className='feedbackTable'>\r\n                <tbody>\r\n                  <tr><td><textarea placeholder=\"Write something\"></textarea></td></tr>\r\n                  <tr><td colSpan=\"5\"><button type=\"submit\" className='submitFeedback'>Submit</button></td></tr>\r\n                  </tbody>\r\n              </table>\r\n            </form>\r\n            </div>\r\n          </div>\r\n        </div>  \r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}