{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lucyg\\\\Desktop\\\\USC\\\\INR\\\\segmentation-interface\\\\src\\\\components\\\\PlayVideo\\\\PlayVideoCopy.js\";\nimport React, { Component, setState } from 'react';\nimport axios from 'axios';\nimport './PlayVideo.css';\nimport { AiFillInfoCircle, AiOutlinePlus, AiOutlineMinus, AiFillPlayCircle } from \"react-icons/ai/\";\nimport '../SideBar/Timestamp/Timestamp.css';\nimport VideoPlayer from 'react-video-player-extended';\n// import { Video } from '../Video/Video';\n// import { ReactPlayer } from 'react-player';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class PlayVideoCopy extends Component {\n  constructor(props) {\n    super(props);\n    this.Next = () => {\n      var id = this.state.PatientTaskHandMappingId;\n      id = id + 1;\n      const data = this.state.PatientTaskHandMapping.filter(page => page.id === id);\n      if (data.length > 0) {\n        const PatientTaskHandMappingId = id;\n        localStorage.setItem('id', JSON.stringify(id));\n        this.setState({\n          PatientTaskHandMappingId\n        });\n        this.componentDidMount();\n      } else {\n        alert('This is the last page');\n      }\n    };\n    this.Prev = () => {\n      var id = this.state.PatientTaskHandMappingId;\n      id = id - 1;\n      const data = this.state.PatientTaskHandMapping.filter(page => page.id === id);\n      if (data.length > 0) {\n        const PatientTaskHandMappingId = id;\n        localStorage.setItem('id', JSON.stringify(id));\n        this.setState({\n          PatientTaskHandMappingId\n        });\n        this.componentDidMount();\n      } else {\n        alert('This is the first page');\n      }\n    };\n    this.state = {\n      VideoSegment: [],\n      segmentHistories: [],\n      GetSegment: [],\n      videos: [],\n      recommended_view: [],\n      // PatientTaskHandMapping: [],\n      PatientTaskHandMapping1: [],\n      Camera: [],\n      Feedback: [],\n      PatientTaskHandMappingId: this.props.PTHID,\n      // PatientTaskHandMappingId: 1,\n      TaskId: this.props.TASKID,\n      PatientId: this.props.PATIENTID,\n      HandId: this.props.HANDID,\n      IsSubmitted: this.props.IsSubmitted,\n      Segment: 1,\n      // start at IPT\n      SegmentJson: [],\n      view: \"\",\n      definition: \"\",\n      index: 0,\n      cnt: 0,\n      currentTime: 0,\n      cameraId: 0,\n      prevIndex: undefined,\n      isPlaying: false,\n      timeStart: 0\n    };\n    this.render = this.render.bind(this);\n  }\n  async componentDidMount() {\n    if (this.state.HandId === 1) {\n      axios.get(`http://localhost:5000/CameraLeft`).then(res => {\n        const Camera = res.data;\n        this.setState({\n          Camera\n        });\n        this.setState({\n          cameraId: 1\n        });\n      });\n    } else {\n      axios.get(`http://localhost:5000/CameraRight`).then(res => {\n        const Camera = res.data;\n        this.setState({\n          Camera\n        });\n        this.setState({\n          cameraId: 1\n        });\n      });\n    }\n    axios.get(`http://localhost:5000/Segment`).then(res => {\n      const SegmentJson = res.data;\n      this.setState({\n        SegmentJson\n      });\n    });\n    axios.get(`http://localhost:5000/VideoSegment/` + this.state.PatientTaskHandMappingId).then(res => {\n      console.log(\"pthid\", this.state.PatientTaskHandMappingId);\n      const GetSegment = res.data;\n      console.log('video segment', GetSegment);\n      var index = undefined;\n      // const VideoSegment = data.filter(view => view.PatientTaskHandMappingId === this.state.PatientTaskHandMappingId);\n\n      // if (this.state.IsSubmitted===1){\n      if (GetSegment.length > 0) {\n        var VideoSegment = GetSegment['submittedSegments'];\n        var segmentHistories = GetSegment['segmentHistories'];\n        let i = 0;\n        while (i < VideoSegment.length) {\n          VideoSegment[i]['IsChecked'] = 0;\n          i++;\n        }\n        this.setState({\n          VideoSegment\n        });\n        this.setState({\n          segmentHistories\n        });\n        this.setState({\n          GetSegment\n        });\n        index = VideoSegment[0].id;\n      } else {\n        index = 0;\n      }\n      console.log(VideoSegment);\n      this.setState({\n        index\n      });\n    });\n    // axios.get(`http://localhost:5000/FileInfo`)\n    // .then(res => { \n    //   const data =res.data;\n    //   const videos = data.filter(view => view.PatientTaskHandMappingId === this.state.PatientTaskHandMappingId);\n    //   console.log(videos);\n    //   this.setState({ videos });\n    // })\n    axios.get(`http://localhost:5000/TaskSegmentCameraMapping/` + this.state.PatientTaskHandMappingId)\n    // axios.get('https://localhost:44305/api/Segmentation/GetFiles/'+this.state.PatientTaskHandMappingId)\n    .then(res => {\n      console.log(\"pthid\", this.state.PatientTaskHandMappingId);\n      const data = res.data;\n      const recommended_view = data['taskSegmentHandCameraMapping']; //.filter(view => view.taskId === this.state.TaskId);\n      console.log(\"recommendedview\", recommended_view);\n      const videos = data['files'];\n      console.log('files', videos);\n      this.setState({\n        videos\n      });\n      // if (this.state.IsSubmitted === 0){\n      if (this.state.GetSegment.length === 0) {\n        let i = 0;\n        var VideoSegment = [];\n        while (i < recommended_view.length) {\n          VideoSegment.push({\n            \"id\": this.state.index + i,\n            \"patientTaskHandMappingId\": this.state.PatientTaskHandMappingId,\n            \"segmentId\": recommended_view[i].segmentId,\n            \"start\": null,\n            \"end\": null,\n            \"IsChecked\": 0\n          });\n          i++;\n        }\n        console.log('videosegment', VideoSegment);\n        this.setState({\n          VideoSegment\n        });\n      }\n      const cameraId = recommended_view.filter(view => view.segmentId === this.state.Segment)[0].cameraId;\n      console.log('cameraid', cameraId);\n      const view = this.state.Camera.filter(view => view.id === cameraId).ViewType;\n      // const definition = recommended_view.filter(view => view.TaskId === this.state.TaskId && view.segmentId === this.state.Segment)[0].Definition;\n      const definition = \"undefined\";\n      this.setState({\n        recommended_view\n      });\n      this.setState({\n        cameraId\n      });\n      this.setState({\n        view\n      });\n      this.setState({\n        definition\n      });\n    });\n    axios.get(`http://localhost:5000/Feedback`).then(res => {\n      const Feedback = res.data;\n      this.setState({\n        Feedback\n      });\n    });\n\n    // axios.get(`http://localhost:5000/logs`)\n    //   .then(res => { \n    //     const logs =res.data;\n    //     this.setState({ logs });\n    // })    \n  }\n\n  render() {\n    var {\n      VideoSegment,\n      segmentHistories,\n      // submittedSegments,\n      GetSegment,\n      videos,\n      recommended_view,\n      TaskId,\n      PatientId,\n      HandId,\n      PatientTaskHandMappingId,\n      PatientTaskHandMapping,\n      definition,\n      index,\n      cnt,\n      Camera,\n      Feedback,\n      cameraId,\n      SegmentJson,\n      prevIndex,\n      IsSubmitted,\n      currentTime,\n      isPlaying,\n      timeStart\n    } = this.state;\n    var pauseTime = -1;\n    var fps = 30;\n    var controls = ['Play', 'Time', 'Progress', 'Volume', 'FullScreen', 'NextFrame', 'LastFrame'];\n    function onTimeUpdate(e) {\n      currentTime = e.target.currentTime;\n      if (pauseTime >= 0) {\n        if (currentTime >= pauseTime) {\n          var vid = document.getElementsByClassName(\"react-video-player\")[0];\n          vid.pause();\n          pauseTime = -1;\n        }\n      }\n    }\n    function changeColor(cur, next, time) {\n      if (next.value) {\n        if (Math.abs(parseFloat(next.value) - parseFloat(cur.value)) > 2) {\n          next.style.backgroundColor = \"yellow\";\n          cur.style.backgroundColor = \"yellow\";\n        } else {\n          next.style.backgroundColor = \"white\";\n          cur.style.backgroundColor = \"white\";\n        }\n      }\n    }\n    function IN() {\n      console.log(currentTime);\n      var time = currentTime;\n      var cur = document.getElementById(\"IN\" + String(index));\n      cur.readonly = false;\n      cur.value = Math.floor(time * 30);\n      // cur.value=time*30;\n      cur.readonly = true;\n      VideoSegment.filter(view => view.id === index)[0].start = Math.floor(time * 30);\n      // VideoSegment.filter(view => view.id === index)[0].start=time*30;\n      var checkBox = document.getElementById(\"CHECK\" + index);\n      checkBox.disabled = false;\n      document.getElementById(\"in\").disabled = false;\n      document.getElementById(\"out\").disabled = false;\n      var segmentId = VideoSegment.filter(view => view.id === index)[0].segmentId;\n      console.log(\"segmentid\", segmentId);\n      var Segment = SegmentJson.filter(view => view.id === segmentId)[0].SegmentLabel;\n      if (Segment === \"M&TR\") {\n        var prevprev = document.getElementById(\"OUT\" + String(index - 2));\n        changeColor(cur, prevprev, time);\n      } else if (index - VideoSegment[0].id > 1) {\n        var prev = document.getElementById(\"OUT\" + String(index - 1));\n        changeColor(cur, prev, time);\n      }\n      // check this IN and previous OUT\n    }\n\n    function OUT() {\n      var time = currentTime;\n      var cur = document.getElementById(\"OUT\" + String(index));\n      cur.readonly = false;\n      cur.value = Math.floor(time * 30);\n      // cur.value=time*30;\n      cur.readonly = true;\n      VideoSegment.filter(view => view.id === index)[0].end = Math.floor(time * 30);\n      // VideoSegment.filter(view => view.id === index)[0].end=time*30;\n      var checkBox = document.getElementById(\"CHECK\" + index);\n      checkBox.disabled = false;\n      // check ET and IPT\n      var segmentId = VideoSegment.filter(view => view.id === index)[0].segmentId;\n      var Segment = SegmentJson.filter(view => view.id === segmentId)[0].SegmentLabel;\n      if (Segment === \"ET\") {\n        var prev = document.getElementById(\"OUT\" + String(index - 1));\n        changeColor(cur, prev, time);\n      } else if (Segment === \"IPT\") {\n        var next = document.getElementById(\"OUT\" + String(index + 1));\n        var nextnext = document.getElementById(\"IN\" + String(index + 2));\n        console.log(next.value);\n        if (next.value) {\n          if (parseInt(next.value) !== time) {\n            next.style.backgroundColor = \"yellow\";\n            cur.style.backgroundColor = \"yellow\";\n          }\n        }\n        changeColor(cur, nextnext, time);\n      } else if (index - VideoSegment[0].id > 0 && index - VideoSegment[0].id < VideoSegment.length) {\n        var next = document.getElementById(\"IN\" + String(index + 1));\n        changeColor(cur, next, time);\n      }\n    }\n    function onSelect(id) {\n      // var id=parseInt(e.target.id);\n      var count = id - VideoSegment[0].id;\n      if (count >= 1 && (VideoSegment[count - 1].start === null || VideoSegment[count - 1].end === null)) {\n        alert(\"Make sure you have filled out the previous segment entries before you select a new one\");\n        return;\n      }\n      index = parseInt(id);\n      cnt = count;\n      // background color    \n      var row = document.getElementById(\"ROW\" + index);\n      if (prevIndex !== undefined && prevIndex !== index) {\n        if (VideoSegment[prevIndex - VideoSegment[0].id]['IsChecked'] === 1) {\n          document.getElementById(\"ROW\" + prevIndex).style.backgroundColor = \"rgb(211, 211, 211)\";\n        } else {\n          document.getElementById(\"ROW\" + prevIndex).style.backgroundColor = \"rgba(0, 0, 0, 0)\";\n        }\n      }\n      row.style.backgroundColor = \"#AFE1AF\";\n      prevIndex = index;\n      // in and out buttons\n      document.getElementById(\"out\").disabled = false;\n      document.getElementById(\"in\").disabled = false;\n      var segmentId = VideoSegment.filter(view => view.id === index)[0].segmentId;\n      console.log(segmentId);\n      var Segment = SegmentJson.filter(view => view.id === segmentId)[0].SegmentLabel;\n      document.getElementById(\"instruction\").innerHTML = \"Please Select the IN and OUT Points for the Segment \" + Segment;\n      // definition=recommended_view.filter(view => view.TaskId === TaskId && view.segmentId === segmentId)[0].Definition;\n      cameraId = recommended_view.filter(view => view.segmentId === segmentId)[0].cameraId;\n      console.log('onSelect cameraId', cameraId);\n      document.getElementsByClassName(\"react-video-player\")[0].currentTime = document.getElementById(\"IN\" + index).value / 30;\n    }\n    function selectTimestamp(position, id) {\n      onSelect(id);\n      var time = document.getElementById(position + String(id));\n      console.log(document.getElementsByClassName(\"react-video-player\")[0].currentTime);\n      document.getElementsByClassName(\"react-video-player\")[0].currentTime = time.value / 30;\n    }\n    function onPlayback(id) {\n      var time = document.getElementById(\"IN\" + id);\n      var vid = document.getElementsByClassName(\"react-video-player\")[0];\n      vid.currentTime = time.value / 30;\n      // timeStart = time.value/30;\n      vid.play();\n      // console.log(time.value);\n      time = document.getElementById(\"OUT\" + id);\n      pauseTime = time.value / 30;\n      console.log('pausetime', pauseTime);\n    }\n    function onCheck(id, start, end) {\n      var checkBox = document.getElementById(\"CHECK\" + id);\n      if (VideoSegment[id - VideoSegment[0].id].start === null || VideoSegment[id - VideoSegment[0].id].end === null) {\n        checkBox.checked = false;\n        alert(\"Make sure you have filled out the segment entries before you check them\");\n        return;\n      }\n      // If the checkbox is checked, display the output text\n      var row = document.getElementById(\"ROW\" + id);\n      let myDivObjBgColor = window.getComputedStyle(row).backgroundColor;\n      if (checkBox.checked === true) {\n        if (myDivObjBgColor === \"rgba(0, 0, 0, 0)\") {\n          row.style.backgroundColor = \"rgb(211, 211, 211)\";\n        }\n        VideoSegment[id - VideoSegment[0].id].IsChecked = 1;\n        var logsId = segmentHistories.length + 1;\n        segmentHistories.push({\n          \"id\": logsId,\n          \"patientId\": PatientId,\n          \"taskId\": TaskId,\n          \"cameraId\": cameraId,\n          //update onSelect\n          \"handId\": HandId,\n          \"segmentId\": id,\n          \"start\": start,\n          \"end\": end,\n          \"isSubmitted\": 0\n        });\n      } else {\n        if (myDivObjBgColor === \"rgb(211, 211, 211)\") {\n          row.style.backgroundColor = \"rgba(0, 0, 0, 0)\";\n        }\n        VideoSegment[id - VideoSegment[0].id].IsChecked = 0;\n      }\n      console.log(segmentHistories);\n    }\n    function switchView(cameraId) {\n      var logsId = GetSegment.length + 1;\n      console.log(\"camera id\", cameraId);\n      segmentHistories.push({\n        \"id\": logsId,\n        \"patientId\": PatientId,\n        \"taskId\": TaskId,\n        \"cameraId\": cameraId,\n        //update onSelect\n        \"handId\": HandId,\n        \"segmentId\": VideoSegment.filter(view => view.id === index)[0].segmentId,\n        \"start\": VideoSegment.filter(view => view.id === index)[0].start,\n        \"end\": VideoSegment.filter(view => view.id === index)[0].end,\n        \"isSubmitted\": 0\n      });\n      var vid = document.getElementsByClassName(\"react-video-player\")[0];\n      vid.currentTime = 0;\n    }\n    function submitFeedback(e) {\n      e.preventDefault();\n      var feedback = e.target[0].value;\n      if (feedback === '') {\n        alert(\"The feedback box shouldn't be empty.\");\n        return;\n      }\n      var feedbackId = Feedback.length + 1;\n      axios.post('http://localhost:5000/Feedback/' + String(feedbackId), {\n        \"id\": feedbackId,\n        \"patientId\": PatientId,\n        \"taskId\": TaskId,\n        \"cameraId\": cameraId,\n        //update onSelect\n        \"handId\": HandId,\n        \"segmentId\": index,\n        \"feedback\": e.target[0].value\n      }).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n      alert(\"You have successfully submitted your feedback!\");\n    }\n    function submit(e) {\n      e.preventDefault();\n      let j = 0;\n      var submittedSegments = [];\n      while (j < VideoSegment.length) {\n        if (VideoSegment[j]['IsChecked'] === 0) {\n          alert(\"Check all entries before you submit!\");\n          return;\n        }\n        submittedSegments.push({\n          \"patientTaskHandMappingId\": VideoSegment[j]['patientTaskHandMappingId'],\n          \"segmentId\": VideoSegment[j]['segmentId'],\n          \"start\": VideoSegment[j]['start'],\n          \"end\": VideoSegment[j]['end']\n        });\n        j++;\n      }\n      GetSegment['submittedSegments'] = VideoSegment;\n      GetSegment['segmentHistories'] = segmentHistories;\n      console.log(GetSegment);\n      axios.post('http://localhost:5000/VideoSegment/', GetSegment);\n      // axios.put('http://localhost:5000/PatientTaskHandMapping/'+String(PatientTaskHandMappingId), {\n      //   \"id\": PatientTaskHandMappingId,\n      //   \"PatientId\": PatientId,\n      //   \"TaskId\": TaskId,\n      //   \"HandId\": HandId,\n      //   \"IsSubmitted\": 1\n      // })\n      // .then(response => {\n      //     console.log(response)\n      // })\n      // .catch(error => {\n      //     console.log(error)\n      // })\n      alert(\"You have successfully submitted the timestamp!\");\n    }\n    function ShowDef() {\n      alert(definition);\n    }\n    function ClickMinus() {\n      document.getElementsByClassName('plus')[0].style.display = 'block';\n      document.getElementsByClassName('minus')[0].style.display = 'none';\n      document.getElementsByClassName('SideVideos')[0].style.display = 'none';\n    }\n    function ClickPlus() {\n      document.getElementsByClassName('minus')[0].style.display = 'block';\n      document.getElementsByClassName('plus')[0].style.display = 'none';\n      document.getElementsByClassName('SideVideos')[0].style.display = 'block';\n    }\n    function ClickMinusT() {\n      document.getElementsByClassName('plusT')[0].style.display = 'block';\n      document.getElementsByClassName('minusT')[0].style.display = 'none';\n      // document.getElementsByClassName('SideVideos')[0].style.display='none';\n      document.getElementsByClassName('TimestampTable')[0].style.display = 'none';\n    }\n    function ClickPlusT() {\n      document.getElementsByClassName('minusT')[0].style.display = 'block';\n      document.getElementsByClassName('plusT')[0].style.display = 'none';\n      // document.getElementsByClassName('SideVideos')[0].style.display='block';\n      document.getElementsByClassName('TimestampTable')[0].style.display = 'block';\n    }\n    function ClickMinusF() {\n      document.getElementsByClassName('plusF')[0].style.display = 'block';\n      document.getElementsByClassName('minusF')[0].style.display = 'none';\n      // document.getElementsByClassName('SideVideos')[0].style.display='none';\n      document.getElementsByClassName('feedbackTable')[0].style.display = 'none';\n    }\n    function ClickPlusF() {\n      document.getElementsByClassName('minusF')[0].style.display = 'block';\n      document.getElementsByClassName('plusF')[0].style.display = 'none';\n      // document.getElementsByClassName('SideVideos')[0].style.display='block';\n      document.getElementsByClassName('feedbackTable')[0].style.display = 'block';\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PlayVideo\",\n          children: [videos.filter(video => video.cameraId === this.state.cameraId).map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-play\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Patient \", PatientId, \", Task \", TaskId, \", \", Camera.filter(view => view.id === video.cameraId)[0].ViewType, \" View\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(VideoPlayer, {\n              url: \"./Videos/\" + video.fileName,\n              controls: controls,\n              isPlaying: isPlaying,\n              loop: false,\n              height: 'auto',\n              width: '100%'\n              // timeStart={timeStart}\n              ,\n              onPlay: () => {\n                // debugger;\n                this.setState({\n                  isPlaying: true\n                });\n              },\n              onPause: () => {\n                this.setState({\n                  isPlaying: false\n                });\n              },\n              onProgress: e => {\n                // debugger;\n                console.log('Current time: ', e.target.currentTime);\n                if (pauseTime > 0 && e.target.currentTime >= pauseTime) {\n                  console.log('pausetime', pauseTime);\n                  var vid = document.getElementsByClassName(\"react-video-player\")[0];\n                  vid.pause();\n                  this.setState({\n                    isPlaying: false\n                  });\n                  pauseTime = -1;\n                }\n                {\n                  this.setState({\n                    currentTime: e.target.currentTime\n                  });\n                }\n                ;\n              },\n              onDuration: duration => console.log('Duration: ', duration),\n              onVideoPlayingComplete: () => {\n                this.setState({\n                  isPlaying: false\n                });\n              },\n              fps: fps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"in\",\n              onClick: IN,\n              children: \"IN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"instruction\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                id: \"instruction\",\n                onClick: ShowDef,\n                children: \"Please Select the IN and OUT Points for the Segment IPT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AiFillInfoCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"out\",\n              onClick: OUT,\n              children: \"OUT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 13\n          }, this)]\n        }, 'PlayVideo', true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SideBar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"SwitchView\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"viewHeader\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Switch View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"plus\",\n                  onClick: ClickPlus,\n                  children: /*#__PURE__*/_jsxDEV(AiOutlinePlus, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 62\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"minus\",\n                  onClick: ClickMinus,\n                  children: /*#__PURE__*/_jsxDEV(AiOutlineMinus, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 63\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"SideVideos\",\n              children: videos.filter(video => video.cameraId !== this.state.cameraId).map(video => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"video-preview\",\n                onClick: () => {\n                  {\n                    this.setState({\n                      isPlaying: false\n                    });\n                  }\n                  ;\n                  switchView(video.cameraId);\n                  {\n                    this.setState({\n                      cameraId: video.cameraId\n                    });\n                  }\n                  ;\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"video\", {\n                  src: \"./Videos/\" + video.fileName,\n                  title: \"./Videos/\" + video.fileName,\n                  className: \"sidebarVideo\",\n                  id: video.View\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Patient \", PatientId, \", Task \", TaskId, \", \", Camera.filter(view => view.id === video.cameraId)[0].ViewType, \" View\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 590,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timestamp\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"TimeStamp\",\n              onSubmit: e => {\n                submit(e);\n                this.setState({\n                  segmentHistories\n                });\n                this.setState({\n                  PatientTaskHandMapping\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"TimestampHeader\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Timestamp Record\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"plusT\",\n                    onClick: ClickPlusT,\n                    children: /*#__PURE__*/_jsxDEV(AiOutlinePlus, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 606,\n                      columnNumber: 64\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"minusT\",\n                    onClick: ClickMinusT,\n                    children: /*#__PURE__*/_jsxDEV(AiOutlineMinus, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 607,\n                      columnNumber: 65\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"TimestampTable\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Segment\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 614,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"IN\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 615,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"OUT\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 616,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 613,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: [VideoSegment.map(segment => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      id: \"ROW\" + segment.id,\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        id: segment.id,\n                        onClick: e => {\n                          {\n                            this.setState({\n                              isPlaying: false\n                            });\n                          }\n                          ;\n                          onSelect(e.target.id);\n                          this.setState({\n                            cameraId\n                          });\n                          this.setState({\n                            definition\n                          });\n                          this.setState({\n                            prevIndex\n                          });\n                          this.setState({\n                            index\n                          });\n                        },\n                        children: SegmentJson.filter(view => view.id === segment.segmentId)[0].SegmentLabel\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 624,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          value: segment.start,\n                          type: \"number\",\n                          id: \"IN\" + String(segment.id),\n                          onClick: () => selectTimestamp(\"IN\", segment.id),\n                          readOnly: \"readOnly\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 634,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 634,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          value: segment.end,\n                          type: \"number\",\n                          id: \"OUT\" + String(segment.id),\n                          onClick: () => selectTimestamp(\"OUT\", segment.id),\n                          readOnly: \"readOnly\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 635,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 635,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"check\",\n                          type: \"checkbox\",\n                          onClick: () => {\n                            onCheck(String(segment.id), segment.start, segment.end);\n                            this.setState({\n                              segmentHistories\n                            });\n                          },\n                          id: \"CHECK\" + String(segment.id)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 636,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 636,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          onClick: () => {\n                            onPlayback(String(segment.id));\n                            // this.setState({timeStart});\n                            this.setState({\n                              isPlaying: true\n                            });\n                            // this.setState({timeStart: 0});\n                          },\n                          children: /*#__PURE__*/_jsxDEV(AiFillPlayCircle, {\n                            size: 30\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 646,\n                            columnNumber: 32\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 640,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 640,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 623,\n                      columnNumber: 25\n                    }, this)), /*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"5\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"submit\",\n                        children: \"Submit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 650,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 650,\n                      columnNumber: 19\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feedback\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"Feedback\",\n              onSubmit: e => {\n                submitFeedback(e);\n                {\n                  this.setState({\n                    Feedback\n                  });\n                }\n                ;\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"feedbackHeader\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Feedback\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"plusF\",\n                    onClick: ClickPlusF,\n                    children: /*#__PURE__*/_jsxDEV(AiOutlinePlus, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 64\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"minusF\",\n                    onClick: ClickMinusF,\n                    children: /*#__PURE__*/_jsxDEV(AiOutlineMinus, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 667,\n                      columnNumber: 65\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"feedbackTable\",\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                      placeholder: \"Write something\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 671,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 671,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 671,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"5\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"submitFeedback\",\n                      children: \"Submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 672,\n                      columnNumber: 39\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 13\n          }, this)]\n        }, 'SideBar', true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 11\n        }, this)]\n      }, 'content', true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","setState","axios","AiFillInfoCircle","AiOutlinePlus","AiOutlineMinus","AiFillPlayCircle","VideoPlayer","PlayVideoCopy","constructor","props","Next","id","state","PatientTaskHandMappingId","data","PatientTaskHandMapping","filter","page","length","localStorage","setItem","JSON","stringify","componentDidMount","alert","Prev","VideoSegment","segmentHistories","GetSegment","videos","recommended_view","PatientTaskHandMapping1","Camera","Feedback","PTHID","TaskId","TASKID","PatientId","PATIENTID","HandId","HANDID","IsSubmitted","Segment","SegmentJson","view","definition","index","cnt","currentTime","cameraId","prevIndex","undefined","isPlaying","timeStart","render","bind","get","then","res","console","log","i","push","segmentId","ViewType","pauseTime","fps","controls","onTimeUpdate","e","target","vid","document","getElementsByClassName","pause","changeColor","cur","next","time","value","Math","abs","parseFloat","style","backgroundColor","IN","getElementById","String","readonly","floor","start","checkBox","disabled","SegmentLabel","prevprev","prev","OUT","end","nextnext","parseInt","onSelect","count","row","innerHTML","selectTimestamp","position","onPlayback","play","onCheck","checked","myDivObjBgColor","window","getComputedStyle","IsChecked","logsId","switchView","submitFeedback","preventDefault","feedback","feedbackId","post","response","catch","error","submit","j","submittedSegments","ShowDef","ClickMinus","display","ClickPlus","ClickMinusT","ClickPlusT","ClickMinusF","ClickPlusF","video","map","fileName","duration","View","segment"],"sources":["C:/Users/lucyg/Desktop/USC/INR/segmentation-interface/src/components/PlayVideo/PlayVideoCopy.js"],"sourcesContent":["import React, {Component, setState} from 'react';\r\nimport axios from 'axios';\r\nimport './PlayVideo.css'\r\nimport { AiFillInfoCircle, AiOutlinePlus, AiOutlineMinus, AiFillPlayCircle } from \"react-icons/ai/\";\r\nimport '../SideBar/Timestamp/Timestamp.css';\r\nimport VideoPlayer from 'react-video-player-extended';\r\n// import { Video } from '../Video/Video';\r\n// import { ReactPlayer } from 'react-player';\r\n\r\n\r\nexport class PlayVideoCopy extends Component {  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      VideoSegment: [],\r\n      segmentHistories: [],\r\n      GetSegment: [],\r\n      videos: [],\r\n      recommended_view: [],\r\n      // PatientTaskHandMapping: [],\r\n      PatientTaskHandMapping1: [],\r\n      Camera: [],\r\n      Feedback: [],\r\n      PatientTaskHandMappingId: this.props.PTHID,\r\n      // PatientTaskHandMappingId: 1,\r\n      TaskId: this.props.TASKID,\r\n      PatientId: this.props.PATIENTID,\r\n      HandId: this.props.HANDID,\r\n      IsSubmitted: this.props.IsSubmitted,\r\n      Segment: 1, // start at IPT\r\n      SegmentJson: [],\r\n      view: \"\",\r\n      definition: \"\",\r\n      index: 0,\r\n      cnt: 0,\r\n      currentTime: 0,\r\n      cameraId: 0,\r\n      prevIndex: undefined,\r\n      isPlaying: false,\r\n      timeStart: 0,\r\n      \r\n\r\n    }\r\n    \r\n    this.render=this.render.bind(this);\r\n    \r\n  }\r\n  \r\n  async componentDidMount() {\r\n    if (this.state.HandId === 1) {\r\n      axios.get(`http://localhost:5000/CameraLeft`)\r\n      .then(res => {\r\n        const Camera =res.data;\r\n        this.setState({ Camera });\r\n        this.setState({ cameraId: 1 });\r\n      })\r\n    }\r\n    else {\r\n      axios.get(`http://localhost:5000/CameraRight`)\r\n      .then(res => {\r\n        const Camera =res.data;\r\n        this.setState({ Camera });\r\n        this.setState({ cameraId: 1 });\r\n      })\r\n    }\r\n    \r\n    axios.get(`http://localhost:5000/Segment`)\r\n    .then(res => {\r\n      const SegmentJson =res.data;\r\n      this.setState({ SegmentJson });\r\n    })\r\n\r\n    axios.get(`http://localhost:5000/VideoSegment/`+this.state.PatientTaskHandMappingId)\r\n    .then(res => {\r\n      console.log(\"pthid\", this.state.PatientTaskHandMappingId);\r\n      const GetSegment =res.data;\r\n      console.log('video segment', GetSegment);\r\n      var index = undefined;\r\n      // const VideoSegment = data.filter(view => view.PatientTaskHandMappingId === this.state.PatientTaskHandMappingId);\r\n      \r\n      // if (this.state.IsSubmitted===1){\r\n      if (GetSegment.length>0){\r\n        var VideoSegment = GetSegment['submittedSegments'];\r\n        var segmentHistories = GetSegment['segmentHistories'];\r\n        let i = 0;\r\n        while ( i < VideoSegment.length) {\r\n          VideoSegment[i]['IsChecked']=0;\r\n          i++;\r\n        }\r\n        this.setState({ VideoSegment });\r\n        this.setState({ segmentHistories });\r\n        this.setState({ GetSegment });\r\n        index = VideoSegment[0].id;\r\n      }\r\n      else {\r\n        index = 0;\r\n      }\r\n      console.log(VideoSegment);\r\n      this.setState({ index });\r\n    })\r\n    // axios.get(`http://localhost:5000/FileInfo`)\r\n    // .then(res => { \r\n    //   const data =res.data;\r\n    //   const videos = data.filter(view => view.PatientTaskHandMappingId === this.state.PatientTaskHandMappingId);\r\n    //   console.log(videos);\r\n    //   this.setState({ videos });\r\n    // })\r\n    axios.get(`http://localhost:5000/TaskSegmentCameraMapping/`+this.state.PatientTaskHandMappingId)\r\n    // axios.get('https://localhost:44305/api/Segmentation/GetFiles/'+this.state.PatientTaskHandMappingId)\r\n    .then(res => {\r\n      console.log(\"pthid\", this.state.PatientTaskHandMappingId);\r\n      const data =res.data;\r\n      const recommended_view = data['taskSegmentHandCameraMapping'];//.filter(view => view.taskId === this.state.TaskId);\r\n      console.log(\"recommendedview\", recommended_view);\r\n      const videos = data['files'];\r\n      console.log('files', videos);\r\n      this.setState({ videos });\r\n      // if (this.state.IsSubmitted === 0){\r\n      if (this.state.GetSegment.length===0){\r\n        let i = 0;\r\n        var VideoSegment = [];\r\n        while (i < recommended_view.length) {\r\n          VideoSegment.push({\r\n            \"id\": this.state.index+i,\r\n            \"patientTaskHandMappingId\": this.state.PatientTaskHandMappingId,\r\n            \"segmentId\": recommended_view[i].segmentId,\r\n            \"start\":null,\r\n            \"end\":null,\r\n            \"IsChecked\": 0\r\n          });\r\n          i++;\r\n        }\r\n        console.log('videosegment', VideoSegment);\r\n        this.setState({ VideoSegment });\r\n      }      \r\n      const cameraId = recommended_view.filter(view => view.segmentId === this.state.Segment)[0].cameraId;\r\n      console.log('cameraid', cameraId);\r\n      const view = this.state.Camera.filter(view => view.id === cameraId).ViewType;\r\n      // const definition = recommended_view.filter(view => view.TaskId === this.state.TaskId && view.segmentId === this.state.Segment)[0].Definition;\r\n      const definition = \"undefined\";\r\n      this.setState({ recommended_view });\r\n      this.setState({ cameraId });\r\n      this.setState({ view });\r\n      this.setState({ definition });\r\n    })\r\n    axios.get(`http://localhost:5000/Feedback`)\r\n      .then(res => { \r\n        const Feedback =res.data;\r\n        this.setState({ Feedback });\r\n    })\r\n    \r\n    // axios.get(`http://localhost:5000/logs`)\r\n    //   .then(res => { \r\n    //     const logs =res.data;\r\n    //     this.setState({ logs });\r\n    // })    \r\n  }\r\n  Next = () => {\r\n    var id = this.state.PatientTaskHandMappingId;\r\n    id=id+1;\r\n    const data=this.state.PatientTaskHandMapping.filter(page => page.id === id);\r\n    if (data.length > 0) {\r\n      const PatientTaskHandMappingId = id;\r\n      localStorage.setItem('id', JSON.stringify(id));\r\n      this.setState({ PatientTaskHandMappingId });\r\n      this.componentDidMount();\r\n    }\r\n    else {\r\n      alert('This is the last page');\r\n    }\r\n  }\r\n  Prev = () => {\r\n    var id = this.state.PatientTaskHandMappingId;\r\n    id=id-1;\r\n    const data=this.state.PatientTaskHandMapping.filter(page => page.id === id);\r\n    if (data.length > 0) {\r\n      const PatientTaskHandMappingId = id;\r\n      localStorage.setItem('id', JSON.stringify(id));\r\n      this.setState({ PatientTaskHandMappingId });\r\n      this.componentDidMount();\r\n    }\r\n    else {\r\n      alert('This is the first page');\r\n    }\r\n  }\r\n\r\n  render() { \r\n    \r\n    var { \r\n      VideoSegment,\r\n      segmentHistories,\r\n      // submittedSegments,\r\n      GetSegment,\r\n      videos,\r\n      recommended_view,\r\n      TaskId,\r\n      PatientId,\r\n      HandId,\r\n      PatientTaskHandMappingId,\r\n      PatientTaskHandMapping,\r\n      definition,\r\n      index, \r\n      cnt, \r\n      Camera, \r\n      Feedback,\r\n      cameraId, \r\n      SegmentJson, \r\n      prevIndex, \r\n      IsSubmitted,\r\n      currentTime,\r\n      isPlaying,\r\n      timeStart\r\n    } = this.state;\r\n    var pauseTime = -1;\r\n    var fps=30;\r\n    var controls = ['Play', 'Time', 'Progress', 'Volume', 'FullScreen', 'NextFrame', 'LastFrame'];\r\n    function onTimeUpdate(e){\r\n      currentTime = e.target.currentTime;\r\n      if (pauseTime >= 0) {\r\n        if (currentTime >= pauseTime) {\r\n          var vid = document.getElementsByClassName(\"react-video-player\")[0]\r\n          vid.pause();\r\n          pauseTime = -1;\r\n        }\r\n      }\r\n    }\r\n    function changeColor(cur, next, time) {\r\n      if (next.value){\r\n        if (Math.abs(parseFloat(next.value) - parseFloat(cur.value)) > 2) {\r\n          next.style.backgroundColor=\"yellow\";\r\n          cur.style.backgroundColor=\"yellow\";\r\n        }\r\n        else {\r\n          next.style.backgroundColor=\"white\";\r\n          cur.style.backgroundColor=\"white\";\r\n        }\r\n      }\r\n    }\r\n    function IN() {\r\n      console.log(currentTime);\r\n      var time = currentTime;\r\n      var cur = document.getElementById(\"IN\"+String(index));\r\n      cur.readonly=false;\r\n      cur.value=Math.floor(time*30);\r\n      // cur.value=time*30;\r\n      cur.readonly=true;\r\n      VideoSegment.filter(view => view.id === index)[0].start=Math.floor(time*30);\r\n      // VideoSegment.filter(view => view.id === index)[0].start=time*30;\r\n      var checkBox = document.getElementById(\"CHECK\"+index);\r\n      checkBox.disabled=false;\r\n      document.getElementById(\"in\").disabled=false;\r\n      document.getElementById(\"out\").disabled=false;\r\n      var segmentId = VideoSegment.filter(view => view.id === index)[0].segmentId;\r\n      console.log(\"segmentid\", segmentId);\r\n      var Segment = SegmentJson.filter(view => view.id === segmentId)[0].SegmentLabel;\r\n      if (Segment === \"M&TR\") {\r\n        var prevprev = document.getElementById(\"OUT\"+String(index-2));\r\n        changeColor(cur, prevprev, time);\r\n      }\r\n      else if (index-VideoSegment[0].id > 1) {\r\n        var prev = document.getElementById(\"OUT\"+String(index-1));\r\n        changeColor(cur, prev, time);\r\n      }\r\n      // check this IN and previous OUT\r\n    }\r\n    function OUT() { \r\n      var time = currentTime;\r\n      var cur = document.getElementById(\"OUT\"+String(index));\r\n      cur.readonly=false;\r\n      cur.value=Math.floor(time*30);\r\n      // cur.value=time*30;\r\n      cur.readonly=true;\r\n      VideoSegment.filter(view => view.id === index)[0].end=Math.floor(time*30);\r\n      // VideoSegment.filter(view => view.id === index)[0].end=time*30;\r\n      var checkBox = document.getElementById(\"CHECK\"+index);\r\n      checkBox.disabled=false;\r\n      // check ET and IPT\r\n      var segmentId = VideoSegment.filter(view => view.id === index)[0].segmentId;\r\n      var Segment = SegmentJson.filter(view => view.id === segmentId)[0].SegmentLabel;\r\n      if (Segment === \"ET\") {\r\n        var prev = document.getElementById(\"OUT\"+String(index-1));\r\n        changeColor(cur, prev, time);\r\n      }\r\n      else if (Segment === \"IPT\") {\r\n        var next = document.getElementById(\"OUT\"+String(index+1));\r\n        var nextnext = document.getElementById(\"IN\"+String(index+2));\r\n        console.log(next.value);\r\n        if (next.value) {\r\n          if (parseInt(next.value) !== time) {\r\n            next.style.backgroundColor=\"yellow\";\r\n            cur.style.backgroundColor=\"yellow\";\r\n          }\r\n        }\r\n        changeColor(cur, nextnext, time);\r\n      }\r\n      else if (index-VideoSegment[0].id > 0 && index-VideoSegment[0].id < VideoSegment.length) {\r\n        var next = document.getElementById(\"IN\"+String(index+1));\r\n        changeColor(cur, next, time);\r\n      }\r\n    }\r\n    function onSelect(id) {\r\n      // var id=parseInt(e.target.id);\r\n      var count = id-VideoSegment[0].id;\r\n      if (count >= 1 && (VideoSegment[count-1].start === null || VideoSegment[count-1].end === null)) {\r\n        alert(\"Make sure you have filled out the previous segment entries before you select a new one\");\r\n        return;\r\n      }\r\n      index=parseInt(id);\r\n      cnt = count;\r\n      // background color    \r\n      var row = document.getElementById(\"ROW\"+index);\r\n      \r\n      if (prevIndex !== undefined && prevIndex !== index) {\r\n        if (VideoSegment[prevIndex-VideoSegment[0].id]['IsChecked']===1) {\r\n          document.getElementById(\"ROW\"+prevIndex).style.backgroundColor=\"rgb(211, 211, 211)\";\r\n        }\r\n        else {\r\n          document.getElementById(\"ROW\"+prevIndex).style.backgroundColor=\"rgba(0, 0, 0, 0)\";\r\n        }         \r\n      }\r\n      row.style.backgroundColor=\"#AFE1AF\";\r\n      prevIndex = index;\r\n      // in and out buttons\r\n      document.getElementById(\"out\").disabled=false;\r\n      document.getElementById(\"in\").disabled=false;\r\n      \r\n      var segmentId = VideoSegment.filter(view => view.id === index)[0].segmentId;\r\n      console.log(segmentId);\r\n      var Segment = SegmentJson.filter(view => view.id === segmentId)[0].SegmentLabel;\r\n      document.getElementById(\"instruction\").innerHTML=\"Please Select the IN and OUT Points for the Segment \"+Segment;\r\n      // definition=recommended_view.filter(view => view.TaskId === TaskId && view.segmentId === segmentId)[0].Definition;\r\n      cameraId = recommended_view.filter(view => view.segmentId === segmentId)[0].cameraId;\r\n      console.log('onSelect cameraId', cameraId);\r\n      document.getElementsByClassName(\"react-video-player\")[0].currentTime=document.getElementById(\"IN\"+index).value/30;\r\n    }    \r\n    function selectTimestamp(position, id) {\r\n      onSelect(id);\r\n      var time = document.getElementById(position+String(id));\r\n      console.log(document.getElementsByClassName(\"react-video-player\")[0].currentTime);\r\n      document.getElementsByClassName(\"react-video-player\")[0].currentTime=time.value/30;\r\n    }\r\n    function onPlayback(id) {\r\n      var time = document.getElementById(\"IN\"+id);\r\n      var vid = document.getElementsByClassName(\"react-video-player\")[0];\r\n      vid.currentTime=time.value/30;\r\n      // timeStart = time.value/30;\r\n      vid.play();\r\n      // console.log(time.value);\r\n      time = document.getElementById(\"OUT\"+id);\r\n      pauseTime = time.value/30;\r\n      console.log('pausetime', pauseTime);\r\n    }\r\n    function onCheck(id, start, end) {\r\n      var checkBox = document.getElementById(\"CHECK\"+id);\r\n      if (VideoSegment[id-VideoSegment[0].id].start === null || VideoSegment[id-VideoSegment[0].id].end === null) {\r\n        checkBox.checked=false;\r\n        alert(\"Make sure you have filled out the segment entries before you check them\");\r\n        return;\r\n      }\r\n      // If the checkbox is checked, display the output text\r\n      var row = document.getElementById(\"ROW\"+id);\r\n      let myDivObjBgColor = window.getComputedStyle(row).backgroundColor;\r\n      if (checkBox.checked === true){\r\n        if (myDivObjBgColor === \"rgba(0, 0, 0, 0)\") {\r\n          row.style.backgroundColor=\"rgb(211, 211, 211)\";\r\n        }\r\n        VideoSegment[id-VideoSegment[0].id].IsChecked=1;  \r\n        var logsId = segmentHistories.length+1;\r\n        segmentHistories.push({\r\n          \"id\": logsId,\r\n          \"patientId\": PatientId,\r\n          \"taskId\": TaskId,\r\n          \"cameraId\": cameraId, //update onSelect\r\n          \"handId\": HandId,\r\n          \"segmentId\": id,\r\n          \"start\": start,\r\n          \"end\": end,\r\n          \"isSubmitted\": 0\r\n        })   \r\n      } else {\r\n        if (myDivObjBgColor === \"rgb(211, 211, 211)\") {\r\n          row.style.backgroundColor=\"rgba(0, 0, 0, 0)\";\r\n        } \r\n        VideoSegment[id-VideoSegment[0].id].IsChecked=0;         \r\n      } \r\n      console.log(segmentHistories);\r\n    }\r\n    function switchView(cameraId){\r\n      var logsId = GetSegment.length+1;\r\n      console.log(\"camera id\", cameraId);\r\n      segmentHistories.push({\r\n        \"id\": logsId,\r\n        \"patientId\": PatientId,\r\n        \"taskId\": TaskId,\r\n        \"cameraId\": cameraId, //update onSelect\r\n        \"handId\": HandId,\r\n        \"segmentId\": VideoSegment.filter(view => view.id === index)[0].segmentId,\r\n        \"start\": VideoSegment.filter(view => view.id === index)[0].start,\r\n        \"end\": VideoSegment.filter(view => view.id === index)[0].end,\r\n        \"isSubmitted\": 0\r\n      })\r\n      var vid = document.getElementsByClassName(\"react-video-player\")[0];\r\n      vid.currentTime=0;\r\n    }\r\n    function submitFeedback(e){\r\n      e.preventDefault();\r\n      var feedback = e.target[0].value;\r\n      if (feedback === '') {\r\n        alert(\"The feedback box shouldn't be empty.\");\r\n        return;\r\n      }\r\n      var feedbackId = Feedback.length+1;\r\n      axios.post('http://localhost:5000/Feedback/'+String(feedbackId), {\r\n        \"id\": feedbackId,\r\n        \"patientId\": PatientId,\r\n        \"taskId\": TaskId,\r\n        \"cameraId\": cameraId, //update onSelect\r\n        \"handId\": HandId,\r\n        \"segmentId\": index,\r\n        \"feedback\": e.target[0].value\r\n      })\r\n      .then(response => {\r\n          console.log(response)\r\n      })\r\n      .catch(error => {\r\n          console.log(error)\r\n      })\r\n      alert(\"You have successfully submitted your feedback!\");\r\n    }\r\n    function submit(e) {\r\n      e.preventDefault();\r\n      let j = 0;\r\n      var submittedSegments = [];\r\n      while (j < VideoSegment.length) {\r\n        if (VideoSegment[j]['IsChecked'] === 0){\r\n          alert(\"Check all entries before you submit!\");\r\n          return;\r\n        }\r\n        submittedSegments.push({\r\n          \"patientTaskHandMappingId\": VideoSegment[j]['patientTaskHandMappingId'],\r\n          \"segmentId\": VideoSegment[j]['segmentId'],\r\n          \"start\": VideoSegment[j]['start'],\r\n          \"end\": VideoSegment[j]['end']\r\n        })\r\n        j++;\r\n      }\r\n      \r\n      GetSegment['submittedSegments']=VideoSegment;\r\n      GetSegment['segmentHistories']=segmentHistories;\r\n      console.log(GetSegment);\r\n      \r\n      axios.post('http://localhost:5000/VideoSegment/', GetSegment);\r\n      // axios.put('http://localhost:5000/PatientTaskHandMapping/'+String(PatientTaskHandMappingId), {\r\n      //   \"id\": PatientTaskHandMappingId,\r\n      //   \"PatientId\": PatientId,\r\n      //   \"TaskId\": TaskId,\r\n      //   \"HandId\": HandId,\r\n      //   \"IsSubmitted\": 1\r\n      // })\r\n      // .then(response => {\r\n      //     console.log(response)\r\n      // })\r\n      // .catch(error => {\r\n      //     console.log(error)\r\n      // })\r\n      alert(\"You have successfully submitted the timestamp!\");\r\n    }\r\n    function ShowDef() {\r\n      alert(definition);\r\n    }\r\n    function ClickMinus(){\r\n      document.getElementsByClassName('plus')[0].style.display='block';\r\n      document.getElementsByClassName('minus')[0].style.display='none';\r\n      document.getElementsByClassName('SideVideos')[0].style.display='none';\r\n    }\r\n    function ClickPlus(){\r\n      document.getElementsByClassName('minus')[0].style.display='block';\r\n      document.getElementsByClassName('plus')[0].style.display='none';\r\n      document.getElementsByClassName('SideVideos')[0].style.display='block';\r\n    }\r\n    function ClickMinusT(){\r\n      document.getElementsByClassName('plusT')[0].style.display='block';\r\n      document.getElementsByClassName('minusT')[0].style.display='none';\r\n      // document.getElementsByClassName('SideVideos')[0].style.display='none';\r\n      document.getElementsByClassName('TimestampTable')[0].style.display='none';\r\n    }\r\n    function ClickPlusT(){\r\n      document.getElementsByClassName('minusT')[0].style.display='block';\r\n      document.getElementsByClassName('plusT')[0].style.display='none';\r\n      // document.getElementsByClassName('SideVideos')[0].style.display='block';\r\n      document.getElementsByClassName('TimestampTable')[0].style.display='block';\r\n    }\r\n    function ClickMinusF(){\r\n      document.getElementsByClassName('plusF')[0].style.display='block';\r\n      document.getElementsByClassName('minusF')[0].style.display='none';\r\n      // document.getElementsByClassName('SideVideos')[0].style.display='none';\r\n      document.getElementsByClassName('feedbackTable')[0].style.display='none';\r\n    }\r\n    function ClickPlusF(){\r\n      document.getElementsByClassName('minusF')[0].style.display='block';\r\n      document.getElementsByClassName('plusF')[0].style.display='none';\r\n      // document.getElementsByClassName('SideVideos')[0].style.display='block';\r\n      document.getElementsByClassName('feedbackTable')[0].style.display='block';\r\n    }\r\n    \r\n   \r\n  \r\n    \r\n  \r\n    \r\n   \r\n    return (\r\n      <div className='container'>  \r\n        {/* <button className='prev' onClick={this.Prev}>Prev</button>  \r\n        <button className='next' onClick={this.Next}>Next</button> */}\r\n        <div className='content' key='content'>\r\n          <div className='PlayVideo' key='PlayVideo'>\r\n            {\r\n              videos.filter(video => video.cameraId === this.state.cameraId)\r\n              .map(video=>\r\n                <div className=\"video-play\">\r\n                  <h2>Patient {PatientId}, Task {TaskId}, {Camera.filter(view => view.id === video.cameraId)[0].ViewType} View</h2>\r\n                  {/* <h2>Patient {PatientId}, Task {TaskId}</h2> */}\r\n                  {/* <video id=\"video\" src={\"./Videos/\"+video.fileName} onTimeUpdate={onTimeUpdate} controls='controls'></video> */}\r\n                  <VideoPlayer\r\n                    url={\"./Videos/\"+video.fileName}\r\n                    controls={controls}\r\n                    isPlaying={isPlaying}\r\n                    loop={false}\r\n                    height={'auto'}\r\n                    width={'100%'}\r\n                    // timeStart={timeStart}\r\n                    onPlay={() => {\r\n                      // debugger;\r\n                      this.setState({isPlaying: true})\r\n                    }}\r\n                    onPause={() => {this.setState({isPlaying: false})}}\r\n                    onProgress={(e)=>{\r\n                      // debugger;\r\n                      console.log('Current time: ', e.target.currentTime);\r\n                      if (pauseTime > 0 && e.target.currentTime >= pauseTime) {\r\n                        console.log('pausetime', pauseTime);\r\n                        var vid = document.getElementsByClassName(\"react-video-player\")[0]\r\n                        vid.pause();\r\n                        this.setState({isPlaying: false});\r\n                        pauseTime = -1;\r\n                      }\r\n                      {this.setState({currentTime: e.target.currentTime})};\r\n                    }}\r\n                    onDuration={(duration)=>console.log('Duration: ', duration)}\r\n                    onVideoPlayingComplete={() => {this.setState({isPlaying: false})}}\r\n                    fps={fps}\r\n                  />\r\n                </div>\r\n              )\r\n            }\r\n            <div className='buttons'>\r\n              <button id=\"in\" onClick={IN}>IN</button>\r\n              <div className=\"instruction\">\r\n                <h5 id=\"instruction\" onClick={ShowDef}>\r\n                Please Select the IN and OUT Points for the Segment IPT\r\n\r\n                </h5>              \r\n                <AiFillInfoCircle/>\r\n              </div>          \r\n              <button id=\"out\" onClick={OUT}>OUT</button>\r\n            </div>          \r\n          </div>\r\n          <div className='SideBar' key='SideBar'>\r\n          \r\n            <div className='SwitchView'>\r\n              <div className='viewHeader'> \r\n                <h4>Switch View</h4> \r\n                <div>\r\n                  <div className='plus'  onClick={ClickPlus}><AiOutlinePlus/></div>\r\n                  <div className='minus' onClick={ClickMinus}><AiOutlineMinus/></div>\r\n                </div>\r\n              </div>\r\n              <div className='SideVideos'>\r\n              {\r\n                videos.filter(video => video.cameraId !== this.state.cameraId)\r\n                .map(video=>\r\n                  <div className=\"video-preview\" onClick={() => {\r\n                    {this.setState({isPlaying: false})};\r\n                    switchView(video.cameraId);\r\n                    {this.setState({cameraId: video.cameraId})};\r\n                  }}>\r\n                    <video src={\"./Videos/\"+video.fileName} title={\"./Videos/\"+video.fileName} className=\"sidebarVideo\"  id={video.View}></video>\r\n                    <div>\r\n                      <p>Patient {PatientId}, Task {TaskId}, {Camera.filter(view => view.id === video.cameraId)[0].ViewType} View</p>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              } \r\n              </div>                        \r\n            </div>\r\n            <div className='timestamp'>\r\n            <form className='TimeStamp' onSubmit={((e)=>{\r\n              submit(e);\r\n              this.setState({segmentHistories});\r\n              this.setState({PatientTaskHandMapping});\r\n            })}>\r\n              <div className='TimestampHeader'>\r\n                <h4>Timestamp Record</h4>\r\n                <div>\r\n                  <div className='plusT'  onClick={ClickPlusT}><AiOutlinePlus/></div>\r\n                  <div className='minusT' onClick={ClickMinusT}><AiOutlineMinus/></div>\r\n                </div>\r\n              </div>\r\n              <div className='TimestampTable'>\r\n                <table>\r\n                  <thead>\r\n                      <tr>\r\n                          <th>Segment</th>\r\n                          <th>IN</th>\r\n                          <th>OUT</th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {\r\n                    VideoSegment\r\n                      .map(segment =>\r\n                        <tr  id={\"ROW\"+segment.id}>\r\n                          <td  id={segment.id} \r\n                          onClick={(e) => {\r\n                            {this.setState({isPlaying: false})};\r\n                            onSelect(e.target.id);\r\n                            this.setState({cameraId});\r\n                            this.setState({definition});\r\n                            this.setState({prevIndex});\r\n                            this.setState({index});\r\n                          }\r\n                          }>{SegmentJson.filter(view => view.id === segment.segmentId)[0].SegmentLabel}</td>\r\n                          <td><input value={segment.start} type=\"number\" id={\"IN\"+String(segment.id)} onClick={(() => selectTimestamp(\"IN\", segment.id))} readOnly=\"readOnly\"></input></td>\r\n                          <td><input value={segment.end} type=\"number\" id={\"OUT\"+String(segment.id)} onClick={(() => selectTimestamp(\"OUT\", segment.id))} readOnly=\"readOnly\"></input></td>\r\n                          <td><input className=\"check\" type=\"checkbox\" onClick={(() => {\r\n                            onCheck(String(segment.id), segment.start, segment.end);\r\n                            this.setState({segmentHistories});\r\n                          })} id={\"CHECK\"+String(segment.id)}/></td>\r\n                          <td><div onClick={\r\n                            () => {\r\n                              onPlayback(String(segment.id));\r\n                              // this.setState({timeStart});\r\n                              this.setState({isPlaying: true});\r\n                              // this.setState({timeStart: 0});\r\n                            }}><AiFillPlayCircle size={30}/></div></td>\r\n                        </tr>\r\n                      )\r\n                  }\r\n                  <td colSpan=\"5\"><button type=\"submit\" className='submit'>Submit</button></td>\r\n                  \r\n                  </tbody>\r\n                </table>\r\n                \r\n              </div>\r\n            </form>\r\n            </div>\r\n            <div className='feedback'>\r\n            <form className='Feedback' onSubmit={(e)=>{\r\n              submitFeedback(e);\r\n              {this.setState({Feedback})};\r\n            }}>\r\n              <div className='feedbackHeader'>\r\n              <h4>Feedback</h4>\r\n              <div>\r\n                  <div className='plusF'  onClick={ClickPlusF}><AiOutlinePlus/></div>\r\n                  <div className='minusF' onClick={ClickMinusF}><AiOutlineMinus/></div>\r\n                </div>\r\n                </div>\r\n              <table className='feedbackTable'>\r\n                  <tr><td><textarea placeholder=\"Write something\"></textarea></td></tr>\r\n                  <tr><td colSpan=\"5\"><button type=\"submit\" className='submitFeedback'>Submit</button></td></tr>\r\n              </table>\r\n            </form>\r\n            </div>\r\n          </div>\r\n        </div>  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}